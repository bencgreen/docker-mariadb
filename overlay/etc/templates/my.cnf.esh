# This group is read both both by the client and the server
# use it for options that affect everything
[client-mariadb]

# This group is read by the server
[mariadb]
datadir=<%= ${DB_DATA_DIR} %>

log_error=<%= ${DB_ERROR_LOG} %>
log_warnings=<%= ${MARIADB_LOG_WARNINGS} %>

character_set_server=<%= ${MARIADB_CHARACTER_SET} %>
collation_server=<%= ${MARIADB_COLLATION} %>

<% if [ "${ENABLE_SSL-}" = "1" ] && [ -e ${DB_SSL_CLIENT_CERT} ] ; then -%>
# SSL paths
ssl-ca=<%= ${DB_SSL_CA_CERT} %>
ssl-cert=<%= ${DB_SSL_SERVER_CERT} %>
ssl-key=<%= ${DB_SSL_SERVER_KEY} %>
# Don't use old TLS versions
tls_version=TLSv1.2,TLSv1.3
<% fi -%>

# Disabling symbolic-links is recommended to prevent assorted security risks
symbolic-links=0

# include all files from the config directory
!includedir <%= ${DB_CNF_D} %>
